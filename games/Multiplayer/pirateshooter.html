<html>

<head>
    <meta charset="UTF-8" />
    <title>Multiplayer Experiment</title>
    <!-- Load the Phaser game library -->
    <script src="//cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser.js"></script>

</head>

<body>
    <script type="text/javascript">
        var config = {
            // 오토로 캔버스 만들어줌
            type: Phaser.AUTO,
            // 위 아래 크기 조정
            width: 750,
            height: 500,

            physics: {
                default: 'arcade',
                arcade: {
                    debug: false
                }
            },
            // 사용하는 신 지정
            scene: {
                preload: preload,
                create: create,
                update: update
            }
        };

        var game = new Phaser.Game(config);

        var player;
        var cursors;

        function preload() {
            this.load.image('water', 'assets/water_tile.png');
            this.load.image('bullet', 'assets/cannon_ball.png');
            this.load.image('ship', 'assets/ship1_1.png');
        }

        function create() {
            // // 배경 이미지 
            // for (let i = 0; i < ((750 / 64) + 1); i++) {
            //     for (let j = 0; j < ((500 / 64) + 1); j++) {
            //         this.add.sprite(i * 64, j * 64, 'water');
            //     }
            // }

            this.add.tileSprite(0, 0, 750, 500, 'water');

            player = this.physics.add.sprite(0, 0, 'ship');
            player.setCollideWorldBounds(true);

            cursors = this.input.keyboard.createCursorKeys();
        }


        function update() {
            if (cursors.left.isDown || cursors.a.isDown) {
                player.setVelocityX(-160);
            } else if (cursors.right.isDown) {
                player.setVelocityX(160);
            } else {
                player.setVelocityX(0);
            }
        }
    </script>

</body>

</html>